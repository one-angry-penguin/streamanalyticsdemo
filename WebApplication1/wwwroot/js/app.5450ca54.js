(function(t){function e(e){for(var a,o,s=e[0],c=e[1],u=e[2],h=0,d=[];h<s.length;h++)o=s[h],r[o]&&d.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={app:0},i=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"034f":function(t,e,n){"use strict";var a=n("64a9"),r=n.n(a);r.a},2044:function(t,e,n){},"268d":function(t,e,n){"use strict";var a=n("5435"),r=n.n(a);r.a},2744:function(t,e,n){"use strict";var a=n("2ff1"),r=n.n(a);r.a},"2dae":function(t,e,n){"use strict";var a=n("dc9f"),r=n.n(a);r.a},"2fe3":function(t,e,n){"use strict";var a=n("997d"),r=n.n(a);r.a},"2ff1":function(t,e,n){},5435:function(t,e,n){},"64a9":function(t,e,n){},"7ee4":function(t,e,n){"use strict";var a=n("b377"),r=n.n(a);r.a},9028:function(t,e,n){"use strict";var a=n("2044"),r=n.n(a);r.a},"997d":function(t,e,n){},b377:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Navigation",{on:{navigate:function(e){return t.onNav(e)}}}),n("b-container",{attrs:{fluid:""}},["Presentation"==t.currentView?n("div",[n("Presentation",{attrs:{orders:t.orders,machines:t.machines,aggregates:t.aggregates,anomalies:t.anomalies}})],1):n("div",[n("b-row",[n("b-col",{attrs:{sm:"2"}},[n("Sidebar",{attrs:{machines:t.machines}})],1),n("b-col",{attrs:{sm:"10"}},[n("Main",{attrs:{view:t.currentView,orders:t.orders,machines:t.machines,logs:t.logs,aggregates:t.aggregates,anomalies:t.anomalies}})],1)],1)],1)])],1)},i=[],o=(n("20d6"),n("6b54"),n("d225")),s=n("b0b4"),c=n("308d"),u=n("6bb5"),l=n("013f"),h=n("4e2b"),d=n("9ab4"),b=n("60a3"),g=n("bc3a"),p=n.n(g),f=n("9f7b"),v=n.n(f),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Main"},[n(t.view,{tag:"component",attrs:{orders:t.orders,machines:t.machines,logs:t.logs,aggregates:t.aggregates,anomalies:t.anomalies}})],1)},O=[],j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",[t._v("Dashboard")]),n("p",[t._v('"First we smash it, then we slash it, then we trash it cause you didn\'t want that broken garbage anyway." --CEO')]),n("b-container",{attrs:{fluid:""}},[n("b-row",t._l(t.types,function(e,a){return n("b-col",{key:a,attrs:{sm:"4"}},[n("MachineTile",{attrs:{typeName:e,machines:t.getType(e),orderCount:t.getPending(e)}})],1)}),1),n("b-row",[n("b-col",{attrs:{sm:"4"}},[n("b-card",{attrs:{"border-variant":"dark","background-variant":"light"}},[n("h6",{staticClass:"mb-0",attrs:{slot:"header"},slot:"header"},[t._v("Past Hour Output")]),n("b-card-text",[n("Totals",{attrs:{aggregates:t.aggregates}})],1)],1)],1),n("b-col",{attrs:{sm:"4"}},[n("b-card",{attrs:{"border-variant":"dark","background-variant":"light"}},[n("h6",{staticClass:"mb-0",attrs:{slot:"header"},slot:"header"},[t._v("Time to Completion")]),n("b-card-text",[n("TTC",{attrs:{orders:t.orders,machines:t.machines,aggregates:t.aggregates}})],1)],1)],1),n("b-col",{attrs:{sm:"4"}},[n("b-card",{attrs:{"border-variant":"dark","background-variant":"light"}},[n("h6",{staticClass:"mb-0",attrs:{slot:"header"},slot:"header"},[t._v("Failure Detection")]),n("b-card-text",[n("Detection",{attrs:{anomalies:t.anomalies}})],1)],1)],1)],1)],1)],1)},y=[],_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"machineCard"},[n("b-card",{attrs:{"border-variant":"dark","background-variant":"light"}},[n("h6",{staticClass:"mb-0",attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.typeName))]),n("b-card-text",[n("b-list-group",{attrs:{flush:""}},[n("b-list-group-item",[t._v("Pending Widgets: "+t._s(t.orderCount))]),n("b-list-group-item",[t._v("Active Machines: "+t._s(t.machines.length))])],1)],1)],1)],1)},k=[],T=function(t){function e(){return Object(o["a"])(this,e),Object(c["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(h["a"])(e,t),e}(b["c"]);d["a"]([Object(b["b"])()],T.prototype,"typeName",void 0),d["a"]([Object(b["b"])()],T.prototype,"machines",void 0),d["a"]([Object(b["b"])()],T.prototype,"orderCount",void 0),T=d["a"]([Object(b["a"])({components:{}})],T);var C=T,w=C,x=n("2877"),S=Object(x["a"])(w,_,k,!1,null,null,null),M=S.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("b-list-group",{attrs:{flush:""}},[n("b-list-group-item",[t._v("Per Machine Output: "+t._s(t.getLatestOutput().toFixed(2))+" (per hour)")]),n("b-list-group-item",[t._v("Time in Hours: "+t._s(t.getTTC().toFixed(2)))])],1)],1)},P=[],D=function(t){function e(){return Object(o["a"])(this,e),Object(c["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(h["a"])(e,t),Object(s["a"])(e,[{key:"getPending",value:function(t){if(void 0==this.orders||null==this.orders)return 0;var e=this.orders.filter(function(t){return!t.completed});return"Smasher"==t?e.reduce(function(t,e){return null==e.pendingCount?t:t+e.pendingCount},0):"Slasher"==t?e.reduce(function(t,e){return null==e.smashedCount?t:t+e.smashedCount},0):e.reduce(function(t,e){return null==e.slashedCount?t:t+e.slashedCount},0)}},{key:"getLatestOutput",value:function(){return void 0==this.aggregates[this.aggregates.length-1]?0:this.aggregates[this.aggregates.length-1].perMachineOutput}},{key:"getTTC",value:function(){if(0==this.getLatestOutput()||0==this.machines.length)return 0;var t=3*this.getPending("Smasher")+2*this.getPending("Slasher")+this.getPending("Trasher");return t/(this.getLatestOutput()*this.machines.length)}}]),e}(b["c"]);d["a"]([Object(b["b"])()],D.prototype,"view",void 0),d["a"]([Object(b["b"])()],D.prototype,"aggregates",void 0),d["a"]([Object(b["b"])()],D.prototype,"orders",void 0),d["a"]([Object(b["b"])()],D.prototype,"machines",void 0),D=d["a"]([Object(b["a"])({components:{}})],D);var $=D,E=$,L=Object(x["a"])(E,F,P,!1,null,null,null),A=L.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("b-list-group",{attrs:{flush:""}},[n("b-list-group-item",[t._v("Failures Detected: "+t._s(t.detectedFailures()))]),n("b-list-group-item",[t._v("Detection Rate: "+t._s(t.detectionRate()))])],1)],1)},B=[],N=function(t){function e(){return Object(o["a"])(this,e),Object(c["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(h["a"])(e,t),Object(s["a"])(e,[{key:"getFailures",value:function(){return 0==this.anomalies.length?0:this.anomalies.filter(function(t){return t.broken}).length}},{key:"detectedFailures",value:function(){return 0==this.anomalies.length?0:this.anomalies.filter(function(t){return t.isChangePointAnomaly}).length}},{key:"detectionRate",value:function(){if(0==this.anomalies.length)return"-";var t=this.anomalies.filter(function(t){return t.correctDetection}).length;return(t/this.anomalies.length*100).toFixed(2)+"%"}}]),e}(b["c"]);d["a"]([Object(b["b"])()],N.prototype,"view",void 0),d["a"]([Object(b["b"])()],N.prototype,"anomalies",void 0),N=d["a"]([Object(b["a"])({components:{}})],N);var I=N,J=I,U=Object(x["a"])(J,H,B,!1,null,null,null),R=U.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("b-list-group",{attrs:{flush:""}},[n("b-list-group-item",[t._v("Widgets Proccessed: "+t._s(t.getLatestOutput().toFixed(0)))]),n("b-list-group-item",[t._v("Failed Production: "+t._s(t.getLatestFailed().toFixed(0)))])],1)],1)},q=[],z=function(t){function e(){return Object(o["a"])(this,e),Object(c["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(h["a"])(e,t),Object(s["a"])(e,[{key:"getLatestOutput",value:function(){return void 0==this.aggregates[this.aggregates.length-1]?0:this.aggregates[this.aggregates.length-1].totalOutput}},{key:"getLatestFailed",value:function(){return void 0==this.aggregates[this.aggregates.length-1]?0:this.aggregates[this.aggregates.length-1].totalFailed}}]),e}(b["c"]);d["a"]([Object(b["b"])()],z.prototype,"aggregates",void 0),z=d["a"]([Object(b["a"])({components:{}})],z);var W=z,Y=W,Q=Object(x["a"])(Y,V,q,!1,null,null,null),K=Q.exports,X=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(c["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.types=["Smasher","Slasher","Trasher"],t.chartData={datacollection:{labels:t.aggregates.map(function(t){return t.windowEnd}),datasets:[{label:"Output",backgroundColor:"blue",data:t.aggregates.map(function(t){return t.totalOutput})},{label:"Failures",backgroundColor:"black",data:t.aggregates.map(function(t){return t.totalFailed})}]}},t.options={responsive:!0,maintainAspectRatio:!1},t}return Object(h["a"])(e,t),Object(s["a"])(e,[{key:"getType",value:function(t){return void 0==this.machines||null==this.machines?[]:this.machines.filter(function(e){return 1==e.active&&e.machineType==t})}},{key:"getPending",value:function(t){if(void 0==this.orders||null==this.orders)return 0;var e=this.orders.filter(function(t){return!t.completed});return"Smasher"==t?e.reduce(function(t,e){return null==e.pendingCount?t:t+e.pendingCount},0):"Slasher"==t?e.reduce(function(t,e){return null==e.smashedCount?t:t+e.smashedCount},0):e.reduce(function(t,e){return null==e.slashedCount?t:t+e.slashedCount},0)}},{key:"getLatestOutput",value:function(){return void 0==this.aggregates[this.aggregates.length-1]?0:this.aggregates[this.aggregates.length-1].perMachineOutput}},{key:"getTTC",value:function(){if(0==this.getLatestOutput()||0==this.machines.length)return 0;var t=3*this.getPending("Smasher")+2*this.getPending("Slasher")+this.getPending("Trasher");return t/(this.getLatestOutput()*this.machines.length)}}]),e}(b["c"]);d["a"]([Object(b["b"])()],X.prototype,"machines",void 0),d["a"]([Object(b["b"])()],X.prototype,"orders",void 0),d["a"]([Object(b["b"])()],X.prototype,"aggregates",void 0),d["a"]([Object(b["b"])()],X.prototype,"anomalies",void 0),X=d["a"]([Object(b["a"])({components:{MachineTile:M,Totals:K,TTC:A,Detection:R}})],X);var G=X,Z=G,tt=(n("2fe3"),Object(x["a"])(Z,j,y,!1,null,null,null)),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",[t._v("Order List")]),n("b-form-checkbox",{attrs:{id:"checkbox-1",name:"checkbox-1"},model:{value:t.showCompleted,callback:function(e){t.showCompleted=e},expression:"showCompleted"}},[t._v("\n    Show Completed Orders\n  ")]),n("b-form-input",{attrs:{placeholder:"Filter"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),n("b-table",{attrs:{striped:"",items:t.tableData,filter:t.filter}})],1)},at=[],rt=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(c["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.showCompleted=!1,t.filter="",t}return Object(h["a"])(e,t),Object(s["a"])(e,[{key:"tableData",get:function(){return this.showCompleted?this.orders:this.orders.filter(function(t){return 0==t.completed})}}]),e}(b["c"]);d["a"]([Object(b["b"])({default:function(){return[]}})],rt.prototype,"orders",void 0),rt=d["a"]([Object(b["a"])({components:{}})],rt);var it=rt,ot=it,st=Object(x["a"])(ot,nt,at,!1,null,null,null),ct=st.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",[t._v("Machine List")]),n("b-form-checkbox",{attrs:{id:"checkbox-1",name:"checkbox-1"},model:{value:t.inactive,callback:function(e){t.inactive=e},expression:"inactive"}},[t._v("\n    Show Inactive Machines\n  ")]),n("b-form-input",{attrs:{placeholder:"Filter"},model:{value:t.machineFilter,callback:function(e){t.machineFilter=e},expression:"machineFilter"}}),n("b-table",{attrs:{striped:"",items:t.tableData,filter:t.machineFilter}})],1)},lt=[],ht=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(c["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.inactive=!1,t.machineFilter="",t}return Object(h["a"])(e,t),Object(s["a"])(e,[{key:"tableData",get:function(){return this.inactive?this.machines:this.machines.filter(function(t){return 1==t.active})}}]),e}(b["c"]);d["a"]([Object(b["b"])({default:function(){return[]}})],ht.prototype,"machines",void 0),ht=d["a"]([Object(b["a"])({components:{}})],ht);var dt=ht,bt=dt,gt=Object(x["a"])(bt,ut,lt,!1,null,null,null),pt=gt.exports,ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",[t._v("Event History")]),n("ul",{attrs:{id:"logList"}},t._l(t.logs,function(e,a){return n("li",{key:a},[t._v("\n      "+t._s(e)+"\n    ")])}),0)])},vt=[],mt=function(t){function e(){return Object(o["a"])(this,e),Object(c["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(h["a"])(e,t),e}(b["c"]);d["a"]([Object(b["b"])()],mt.prototype,"logs",void 0),mt=d["a"]([Object(b["a"])({components:{}})],mt);var Ot=mt,jt=Ot,yt=(n("7ee4"),Object(x["a"])(jt,ft,vt,!1,null,null,null)),_t=yt.exports,kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-tabs",{attrs:{"content-class":"mt-3"}},[n("b-tab",{attrs:{title:"Aggregates",active:""}},[t._v("\n        Time Frame: 60 minutes\n        "),n("b-table",{attrs:{striped:"",items:t.aggregateData}})],1),n("b-tab",{attrs:{title:"Anomalies"}},[n("b-table",{attrs:{striped:"",items:t.anomalyData}})],1)],1)],1)},Tt=[],Ct=function(t){function e(){return Object(o["a"])(this,e),Object(c["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(h["a"])(e,t),Object(s["a"])(e,[{key:"aggregateData",get:function(){return this.aggregates.map(function(t){return{Timestamp:t.windowEnd,Total:t.totalOutput,TotalFailed:t.totalFailed,PerMachineOutput:t.perMachineOutput.toFixed(2),PerMachineFailed:t.perMachineFailure.toFixed(2)}})}},{key:"anomalyData",get:function(){return this.anomalies.map(function(t){return{Timestamp:t.timeStamp,MachineId:t.machineId,DetectionScore:t.changePointScore.toFixed(2),FailureDetected:1==t.isChangePointAnomaly?"Yes":"No",Failed:1==t.broken?"Yes":"No",Correct:1==t.correctDetection?"Yes":"No",AverageFailures:t.failures.toFixed(2)}})}}]),e}(b["c"]);d["a"]([Object(b["b"])()],Ct.prototype,"aggregates",void 0),d["a"]([Object(b["b"])()],Ct.prototype,"anomalies",void 0),Ct=d["a"]([Object(b["a"])({components:{}})],Ct);var wt=Ct,xt=wt,St=Object(x["a"])(xt,kt,Tt,!1,null,null,null),Mt=St.exports,Ft=function(t){function e(){return Object(o["a"])(this,e),Object(c["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(h["a"])(e,t),e}(b["c"]);d["a"]([Object(b["b"])()],Ft.prototype,"view",void 0),d["a"]([Object(b["b"])()],Ft.prototype,"orders",void 0),d["a"]([Object(b["b"])()],Ft.prototype,"machines",void 0),d["a"]([Object(b["b"])()],Ft.prototype,"logs",void 0),d["a"]([Object(b["b"])()],Ft.prototype,"aggregates",void 0),d["a"]([Object(b["b"])()],Ft.prototype,"anomalies",void 0),Ft=d["a"]([Object(b["a"])({components:{Dashboard:et,Orders:ct,Machines:pt,History:_t,StreamData:Mt}})],Ft);var Pt=Ft,Dt=Pt,$t=(n("2744"),Object(x["a"])(Dt,m,O,!1,null,"55b6dd17",null)),Et=$t.exports,Lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-dark",attrs:{id:"sidebar"}},[n("h3",[t._v("Create Order")]),n("b-form-input",{attrs:{placeholder:"Order Count",id:"orderCount"},model:{value:t.orderCount,callback:function(e){t.orderCount=e},expression:"orderCount"}}),n("b-button",{attrs:{disabled:t.waitToSend},on:{click:function(e){return t.createOrder()}}},[t._v("Create")]),n("h3",[t._v("Machines")]),n("h4",[t._v("Smashers")]),n("b-button-group",[n("b-button",{on:{click:function(e){return t.removeMachine("Smasher")}}},[t._v("-")]),n("b-button",[t._v(t._s(t.getType("Smasher")))]),n("b-button",{on:{click:function(e){return t.addMachine("Smasher")}}},[t._v("+")])],1),n("h4",[t._v("Slashers")]),n("b-button-group",[n("b-button",{on:{click:function(e){return t.removeMachine("Slasher")}}},[t._v("-")]),n("b-button",[t._v(t._s(t.getType("Slasher")))]),n("b-button",{on:{click:function(e){return t.addMachine("Slasher")}}},[t._v("+")])],1),n("h4",[t._v("Trashers")]),n("b-button-group",[n("b-button",{on:{click:function(e){return t.removeMachine("Trasher")}}},[t._v("-")]),n("b-button",[t._v(t._s(t.getType("Trasher")))]),n("b-button",{on:{click:function(e){return t.addMachine("Trasher")}}},[t._v("+")])],1),n("h3",[t._v("Break Machine")]),n("b-form-select",{attrs:{options:t.getMachinesToBreak()},model:{value:t.machineToBreak,callback:function(e){t.machineToBreak=e},expression:"machineToBreak"}}),n("b-button",{on:{click:function(e){return t.breakMachine()}}},[t._v("Break!")])],1)},At=[],Ht=(n("ac6a"),function t(){Object(o["a"])(this,t)}),Bt=function t(){Object(o["a"])(this,t)},Nt=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(c["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.orderCount=0,t.waitToSend=!1,t.machineToBreak=0,t}return Object(h["a"])(e,t),Object(s["a"])(e,[{key:"getType",value:function(t){return void 0==this.machines||null==this.machines?0:this.machines.filter(function(e){return 1==e.active&&e.machineType==t}).length}},{key:"getBreakable",value:function(){return this.machines.filter(function(t){return t.active&&!t.broken})}},{key:"addMachine",value:function(t){var e=new Ht;e.machineType=t,p.a.post("/machines",e).then(function(t){return console.log(t)}).catch(function(t){return console.log(t)})}},{key:"removeMachine",value:function(t){if(this.getType(t)>0){var e=this.machines.filter(function(e){return 1==e.active&&e.machineType==t}),n=e.findIndex(function(t){return t.broken}),a=0;a=n>=0?e[n].id:e[0].id,p.a.delete("/machines/"+a).then(function(t){return console.log(t)})}}},{key:"breakMachine",value:function(){p.a.post("/machines/break/"+this.machineToBreak).then(function(t){return console.log(t)}).catch(function(t){return console.log(t)})}},{key:"getMachinesToBreak",value:function(){var t=this.machines.filter(function(t){return t.active&&!t.broken}),e=[];return t.forEach(function(t){return e.push({value:t.id,text:t.id+" - "+t.machineType})}),e}},{key:"createOrder",value:function(){var t=this;if(this.orderCount>0&&(this.orderCount>1e4&&(this.orderCount=1e4),!this.waitToSend)){var e=new Bt;e.widgetCount=this.orderCount,p.a.post("/orders",e).then(function(t){return console.log(t)}).catch(function(t){return console.log(t)}),this.waitToSend=!0,this.orderCount=0,setTimeout(function(){t.waitToSend=!1},3e3)}}}]),e}(b["c"]);d["a"]([Object(b["b"])({default:function(){return[]}})],Nt.prototype,"machines",void 0),Nt=d["a"]([Object(b["a"])({components:{}})],Nt);var It=Nt,Jt=It,Ut=(n("2dae"),Object(x["a"])(Jt,Lt,At,!1,null,null,null)),Rt=Ut.exports,Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"navigation"}},[n("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"dark"}},[n("b-navbar-nav",[n("b-nav-item",{on:{click:function(e){return t.$emit("navigate","Dashboard")}}},[t._v("Dashboard")]),n("b-nav-item",{on:{click:function(e){return t.$emit("navigate","Machines")}}},[t._v("Machines")]),n("b-nav-item",{on:{click:function(e){return t.$emit("navigate","Orders")}}},[t._v("Orders")]),n("b-nav-item",{on:{click:function(e){return t.$emit("navigate","History")}}},[t._v("Event History")]),n("b-nav-item",{on:{click:function(e){return t.$emit("navigate","StreamData")}}},[t._v("Stream Data")]),n("b-nav-item",{on:{click:function(e){return t.$emit("navigate","Presentation")}}},[t._v("Presentation")])],1)],1)],1)},qt=[],zt=function(t){function e(){return Object(o["a"])(this,e),Object(c["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(h["a"])(e,t),e}(b["c"]);zt=d["a"]([Object(b["a"])({components:{}})],zt);var Wt=zt,Yt=Wt,Qt=(n("9028"),Object(x["a"])(Yt,Vt,qt,!1,null,null,null)),Kt=Qt.exports,Xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"presentation"}},[n("b-row",[n("b-col",{attrs:{sm:"2"}},[n("div",[n("h4",[t._v("Open Orders: "+t._s(t.orders.length))]),n("h4",[t._v("Pending Widgets: "+t._s(t.getPendingCount()))]),n("h4",[t._v("Failure Detection:")]),n("Detection",{attrs:{anomalies:t.anomalies}}),n("h4",[t._v("Time To Complete Open Orders:")]),n("TTC",{attrs:{orders:t.orders,machines:t.machines,aggregates:t.aggregates}}),n("h4",[t._v("Past Hour Output:")]),n("Totals",{attrs:{aggregates:t.aggregates}})],1)]),n("b-col",{attrs:{sm:"10"}},[n("iframe",{attrs:{src:"https://onedrive.live.com/embed?cid=430A52718776F39B&resid=430A52718776F39B%2164994&authkey=AKqqOzBXrq0QlaQ&em=2&wdAr=1.7777777777777777",width:"1186px",height:"691px",frameborder:"0"}},[t._v("This is an embedded "),n("a",{attrs:{target:"_blank",href:"https://office.com"}},[t._v("Microsoft Office")]),t._v(" presentation, powered by "),n("a",{attrs:{target:"_blank",href:"https://office.com/webapps"}},[t._v("Office Online")]),t._v(".")])])],1)],1)},Gt=[],Zt=function(t){function e(){return Object(o["a"])(this,e),Object(c["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(h["a"])(e,t),Object(s["a"])(e,[{key:"getPendingCount",value:function(){var t=this.orders.filter(function(t){return!t.completed});return 0==t.length?0:t.reduce(function(t,e){return null==e?t:t+e.widgetCount-e.completedCount},0)}}]),e}(b["c"]);d["a"]([Object(b["b"])()],Zt.prototype,"machines",void 0),d["a"]([Object(b["b"])()],Zt.prototype,"orders",void 0),d["a"]([Object(b["b"])()],Zt.prototype,"aggregates",void 0),d["a"]([Object(b["b"])()],Zt.prototype,"anomalies",void 0),Zt=d["a"]([Object(b["a"])({components:{TTC:A,Detection:R,Totals:K}})],Zt);var te=Zt,ee=te,ne=(n("268d"),Object(x["a"])(ee,Xt,Gt,!1,null,null,null)),ae=ne.exports,re=(n("f9e3"),n("2dd8"),n("1a9a"));b["c"].use(v.a),b["c"].prototype.$axios=p.a,p.a.defaults.baseURL="https://sademo.azurewebsites.net/api";var ie=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(c["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.self=Object(l["a"])(t),t.currentView="Dashboard",t.orders=[],t.machines=[],t.logs=[],t.aggregates=[],t.anomalies=[],t.removeSAStart=0,t.removeSAEnd=2,t.logHub=(new re.HubConnectionBuilder).withUrl("https://sademo.azurewebsites.net/logHub").configureLogging(re.LogLevel.Information).build(),t}return Object(h["a"])(e,t),Object(s["a"])(e,[{key:"onNav",value:function(t){this.currentView=t}},{key:"mounted",value:function(){var t=this;p.a.all([p.a.get("/machines").then(function(e){t.machines=e.data}),p.a.get("/orders").then(function(e){t.orders=e.data})]),this.logHub.start().catch(function(t){return console.error(t.toString())}),this.logHub.on("newLog",function(e){t.logs.unshift(e);while(t.logs.length>100)t.logs.pop()}),this.logHub.on("orderUpdate",function(e){t.updateOrder(JSON.parse(e))}),this.logHub.on("machineUpdate",function(e){t.updateMachine(JSON.parse(e))}),this.logHub.on("machineUpdate",function(e){t.updateMachine(JSON.parse(e))}),this.logHub.on("analyticsUpdate",function(e){var n=JSON.parse(e);"aggregates"==n.analysisType?t.handleAggregates(n):t.updateAnomalies(n)})}},{key:"beforeDestroy",value:function(){this.logHub.stop()}},{key:"updateOrder",value:function(t){var e=this.orders.findIndex(function(e){return e.id===t.id});void 0==e||-1==e||e+1>this.orders.length?this.orders.push(t):this.orders.splice(e,1,t)}},{key:"updateMachine",value:function(t){var e=this.machines.findIndex(function(e){return e.id==t.id});void 0==e||-1==e?this.machines.push(t):this.machines.splice(e,1,t)}},{key:"updateAnomalies",value:function(t){console.log(t);var e=this.anomalies.findIndex(function(e){return e.machineId==t.machineId});void 0==e||-1==e?this.anomalies.push(t):(console.log("updated"),this.anomalies.splice(e,1,t))}},{key:"handleAggregates",value:function(t){this.aggregates.push(t);while(this.aggregates.length>100)this.aggregates.shift()}}]),e}(b["c"]);ie=d["a"]([Object(b["a"])({components:{Main:Et,Navigation:Kt,Sidebar:Rt,Presentation:ae}})],ie);var oe=ie,se=oe,ce=(n("034f"),Object(x["a"])(se,r,i,!1,null,null,null)),ue=ce.exports;a["default"].config.productionTip=!1,new a["default"]({render:function(t){return t(ue)}}).$mount("#app")},dc9f:function(t,e,n){}});
//# sourceMappingURL=app.5450ca54.js.map